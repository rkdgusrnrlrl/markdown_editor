<html>
<head>
	<title></title>
	<meta charset="utf-8"/>
	<script src="./js/jquery-3.1.0.min.js"></script>
	<script src="./js/marked.js"></script>
	<script src="./js/prism.js"></script>
	<script src="./js/jquery-textarea-extends.js"></script>
	<link rel="stylesheet" type="text/css" href="./css/flexboxgrid.min.css" media="all">
	<link rel="stylesheet" type="text/css" href="./css/github-markdown.css" media="all">
	<link rel="stylesheet" type="text/css" href="./css/prism.css" media="all">
</head>
<body onload="preview()">
	
	<div class="row">
		<div class="col-xs-6" id="editor">
			<textarea id="text_editor" onkeyup="preview(this)" style="width : 100%; height:500px;"></textarea>
		</div>
		<div class="col-xs-6 markdown-body" id="preview">
		</div>
	</div>
	
	
	<script type="text/javascript">
	
	//키 및 단축키 설정	
	$("#text_editor").keydown(function (e) {
	    var keycode1 = (e.keyCode ? e.keyCode : e.which);
	    if (keycode1 == 0 || keycode1 == 9) { // tab 이벤트
	        e.preventDefault();
	        e.stopPropagation();
	        $(this).insertMultiLineTab();	        
	    } else if (keycode1 == 13) {
	    	e.preventDefault();
	        e.stopPropagation();
			$(this).smartIndent();
	    }
	});

	/*마크다운 sytax highlight 세팅*/
	marked.setOptions({
	  highlight: function (code, lang) {
	    return Prism.highlight(code, Prism.languages[lang]);
	  }
	});

	// 마크다운 렌더링
	function preview() {
		$("#preview").html(marked($("#text_editor").val()));
	}
	</script>
</body>
</html>